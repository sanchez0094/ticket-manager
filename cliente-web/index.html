<h1>Clientes</h1>
<div>
<p>Nuevo Cliente</p>
<form id='formularioCliente'>
    <div>
        <label for="nombre_cliente">Nombre:</label>
        <input type="text" id="nombre_cliente" />
    </div>
    <div>
        <label for="apellido_cliente">Apellido:</label>
        <input type="text" id="apellido_cliente" />
    </div>
    <div>
        <label for="nombre_local">Nombre Local:</label>
        <input type="text" id="nombre_local" />
    </div>
    <div>
        <label for="cuit">Cuit:</label>
        <input type="text" id="cuit" />
    </div>
    <div>
        <label for="telefono">Telefono:</label>
        <input type="text" id="telefono" />
    </div>
    <div>
        <label for="direccion">Direccion:</label>
        <input type="text" id="direccion" />
    </div>
    <div>
        <label for="email">E-mail:</label>
        <input type="email" id="email" />
    </div>
    <div>
        <label for="fecha_pedido">Direccion:</label>
        <input type="date" id="fecha_pedido" />
    </div>
    <div>
        <label for="fecha_entrega">Direccion:</label>
        <input type="date" id="fecha_entrega" />
    </div>
    <div>
        <label for="detalle_pedido">Direccion:</label>
        <input type="text" id="detalle_pedido" />
    </div>
    <div>
        <label for="monto">Direccion:</label>
        <input type="numeric" id="monto" />
    </div>
    <div>
        <label for="pago_efectuado">Direccion:</label>
        <input type="boolean" id="pago_efectuado" />
    </div>
    <div>
        <label for="cuenta_corriente">Direccion:</label>
        <input type="boolean" id="cuenta_corriente" />
    </div>
    <div>
        <label for="seña">Direccion:</label>
        <input type="numeric" id="seña" />
    </div>166666
    <div>
        <input type="button" id="submit" value="Crear" />
    </div>
    <div>
        <input type="button" id="list" value="Listar" />
    </div>
</form>
</div>
<script type="text/javascript">
          window.addEventListener('load', function(){
            document.getElementById('submit').addEventListener('click',function(event){
            nuevocliente();
            });
            document.getElementById('list').addEventListener('click',function(event){
              listarClientes();
            })
          });

          function nuevocliente(){
            var form = document.getElementById('formularioCliente');
            console.log(form);
            const cliente = {
              nombre_cliente: form.nombre_cliente.value,
              apellido_cliente: form.apellido_cliente.value,
              nombre_local : form.nombre_local.value,
              cuit:form.cuit.value,
              telefono:form.telefono.value,
              direccion:form.direccion.value,
              email:form.email.value
            };
            fetch('http://localhost:3000/api/clientes', {
              method: 'POST',
              body: JSON.stringify(cliente),
              headers: {'content-type': 'application/json'}
            }).then(function(response){
              if(response.status != 200)
                throw new Error("Error registrando cliente");
              else
                alert("Se cargo");
            }).catch(function(error){
              alert(error.message);
            });
          }

          function listarClientes(){
            fetch('http://localhost:3000/api/clientes', {
              method: 'GET',
              headers: {'content-type': 'application/json'}
            }).then(function(response){
              if(response.status != 200)
                throw new Error("Error registrando cliente");
              return response.json();
            }).then(function(response){
              console.log(response);
            }).catch(function(error){
              alert(error.message);
            });
          }
</script>
